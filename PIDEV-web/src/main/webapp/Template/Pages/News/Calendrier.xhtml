<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
		>
	<ui:define name="content">
<section class="section-container"> <!-- Page content-->
		<div class="content-wrapper">
<h:link outcome="/pages/News/ListNews"
			value="View List News" />
			<h:form>
<h:commandLink action="#{NewsBean.allNews}" value="Newss" />
</h:form>
<script>
    var events = []
</script>
  <c:forEach items="#{NewsBean.allNews}" var="Newss" >
    <script>
        events.push({
            title : 'Content: #{Newss.titre}\nState: #{Newss.titre}',
            start: new Date('#{Newss.datePublish}'.replace(/\//g, '-')),
            allDay: true
        })
    </script>
</c:forEach>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E="
        crossorigin="anonymous"></script>

<link href="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.4.0/fullcalendar.min.css" rel="stylesheet" />
<link href="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.4.0/fullcalendar.print.css" rel="stylesheet" media="print" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.4.0/fullcalendar.min.js"></script>


<div id="calender"></div>
<script>
    function GenerateCalender(events) {
                $('#calender').fullCalendar('destroy');
                $('#calender').fullCalendar({
                    events: events,
                    contentHeight: 400,
                    defaultDate: new Date(),
                    timeFormat: 'h(:mm)a',
                    header: {
                        left: 'prev,next today',
                        center: 'title',
                        right: 'month,basicWeek,basicDay,agenda'
                    },
                    eventLimit: true,
                    eventColor: '#b0f2b6'
                })
    }
    console.log(events)
    GenerateCalender(events)
</script>
</div>
</section>
</ui:define>
</ui:composition>